[gd_scene load_steps=14 format=3 uid="uid://cnp584qcnv3tj"]

[ext_resource type="Texture2D" uid="uid://chwbcf7n2ajtp" path="res://art/platforms/Platformer_spritesheet.png" id="1_drxf6"]
[ext_resource type="Script" path="res://levels/level.gd" id="1_vde5s"]
[ext_resource type="Texture2D" uid="uid://bja0wl8tcw71c" path="res://art/backgrounds/background_01.png" id="2_oi8e6"]
[ext_resource type="Texture2D" uid="uid://bujx43rcy5b85" path="res://art/backgrounds/background_02.png" id="3_yv7l0"]
[ext_resource type="PackedScene" uid="uid://dgmbwyk1c82yt" path="res://player/player.tscn" id="4_20lng"]
[ext_resource type="PackedScene" uid="uid://btcqj0tqbqjh7" path="res://interactables/pressure_plate/pressure_plate.tscn" id="6_ed2up"]
[ext_resource type="PackedScene" uid="uid://ctrikyy87xdf8" path="res://interactables/door/door.tscn" id="7_qml43"]
[ext_resource type="PackedScene" uid="uid://cbpv5ctdle84" path="res://interactables/chest/chest.tscn" id="8_odafs"]
[ext_resource type="PackedScene" uid="uid://hnuqgymuy5nm" path="res://interactables/key_door/key_door.tscn" id="9_gfbll"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_68gnc"]
texture = ExtResource("1_drxf6")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(64, -64, 64, 64, -64, 64)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, 64, -64, 64)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -18, 64, -64, -3)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, -3, 20, 64, -64, 64)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-20, -64, 64, -64, 64, 64, -13, 64, -33, 35)
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:2/0 = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
0:3/0 = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 16, -64, 37, 9, 16, 64, -64, 64)

[sub_resource type="TileSet" id="TileSet_o3cb7"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_68gnc")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fc3hc"]

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_bx3es"]

[node name="Level_01" type="Node2D" node_paths=PackedStringArray("players_container", "player_spawner", "spawn_points")]
position = Vector2(540, 27)
script = ExtResource("1_vde5s")
player_scene = ExtResource("4_20lng")
players_container = NodePath("--- Players ---/Players")
player_spawner = NodePath("--- Players ---/PlayerSpawner")
spawn_points = [NodePath("--- Players ---/SpawnPoint_0"), NodePath("--- Players ---/SpawnPoint_1")]

[node name="--- Environment ---" type="Node" parent="."]

[node name="TileMap" type="TileMap" parent="--- Environment ---"]
position = Vector2(540, 27)
scale = Vector2(0.5, 0.5)
tile_set = SubResource("TileSet_o3cb7")
format = 2
layer_0/tile_data = PackedInt32Array(-65536, 65536, 0, -65535, 65536, 0, -65534, 65536, 0, -65533, 65536, 0, -65532, 65536, 0, -65531, 65536, 0, -65530, 65536, 0, -65529, 65536, 0, -131065, 0, 2, -196601, 0, 2, -262137, 0, 2, -327673, 0, 2, -393209, 0, 2, -458743, 131072, 2, -458742, 131072, 2, -458741, 131072, 2, -458740, 131072, 2, -393208, 65536, 1, -327672, 65536, 1, -262136, 65536, 1, -196600, 65536, 1, -131064, 65536, 1, -65528, 65536, 1, -393207, 65536, 1, -327671, 65536, 1, -262135, 65536, 1, -196599, 65536, 1, -131063, 65536, 1, -65527, 65536, 1, -393206, 65536, 1, -327670, 65536, 1, -262134, 65536, 1, -196598, 65536, 1, -131062, 65536, 1, -65526, 65536, 1, -393205, 65536, 1, -327669, 65536, 1, -262133, 65536, 1, -196597, 65536, 1, -131061, 65536, 1, -65525, 65536, 1, -393204, 65536, 1, -327668, 65536, 1, -262132, 65536, 1, -196596, 65536, 1, -131060, 65536, 1, -65524, 65536, 1, -1, 65536, 0, -25, 65536, 0, -24, 65536, 0, -23, 65536, 0, -22, 65536, 0, -21, 65536, 0, -20, 65536, 0, -19, 65536, 0, -18, 65536, 0, -17, 65536, 0, -16, 65536, 0, -15, 65536, 0, -14, 65536, 0, -13, 65536, 0, -12, 65536, 0, -11, 65536, 0, -10, 65536, 0, -9, 65536, 0, -8, 65536, 0, -7, 65536, 0, -6, 65536, 0, -5, 65536, 0, -4, 65536, 0, -3, 65536, 0, -2, 65536, 0, -65523, 65536, 0, -65522, 65536, 0, -65521, 65536, 0, -65520, 65536, 0, -65519, 65536, 0, -65518, 65536, 0, -65517, 65536, 0, -65516, 65536, 0, -65515, 65536, 0, -65514, 65536, 0, -65513, 65536, 0, -65512, 65536, 0, -65511, 65536, 0, -458739, 131072, 0, -393202, 131072, 0, -327665, 131072, 0, -262128, 131072, 0, -196591, 131072, 0, -131054, 131072, 0, -393203, 65536, 1, -327667, 65536, 1, -262131, 65536, 1, -196595, 65536, 1, -131059, 65536, 1, -327666, 65536, 1, -262130, 65536, 1, -196594, 65536, 1, -131058, 65536, 1, -262129, 65536, 1, -196593, 65536, 1, -131057, 65536, 1, -196592, 65536, 1, -131056, 65536, 1, -131055, 65536, 1, -786455, 0, 3, -720919, 0, 3, -655383, 0, 3, -589847, 0, 3, -524311, 0, 3, -458775, 0, 3, -393239, 0, 3, -327703, 0, 3, -262167, 0, 3, -196631, 131072, 1, -131095, 0, 3, -65559, 0, 3, -786457, 65536, 1, -720921, 65536, 1, -655385, 65536, 1, -589849, 65536, 1, -524313, 65536, 1, -458777, 65536, 1, -393241, 65536, 1, -327705, 65536, 1, -262169, 65536, 1, -196633, 65536, 1, -131097, 65536, 1, -65561, 65536, 1, -786456, 65536, 1, -720920, 65536, 1, -655384, 65536, 1, -589848, 65536, 1, -524312, 65536, 1, -458776, 65536, 1, -393240, 65536, 1, -327704, 65536, 1, -262168, 65536, 1, -196632, 65536, 1, -131096, 65536, 1, -65560, 65536, 1, -851993, 131072, 2, -851992, 131072, 2, -851991, 131072, 2, -458744, 131072, 2, -458745, 196608, 0, -196630, 65536, 0, -196629, 65536, 0, -196628, 65536, 0, -196627, 65536, 0, -196626, 65536, 0, -196625, 131072, 0, -65510, 65536, 0, -65509, 65536, 0, -65508, 65536, 0, -65507, 65536, 0, -65506, 65536, 0, -65505, 65536, 0, -65504, 65536, 0, -65503, 65536, 0, -65502, 65536, 0, -65501, 65536, 0, -65500, 65536, 0, -131036, 0, 2, -196572, 0, 2, -262108, 0, 2, -327644, 0, 2, -458716, 0, 2, -524252, 0, 2, -589788, 0, 2, -655324, 0, 2, -720860, 0, 2, -786396, 0, 2, -851932, 0, 2, -917468, 0, 2, -983004, 196608, 0, -983003, 65536, 0, -983002, 65536, 0, -983001, 196608, 1, -917465, 0, 3, -851929, 0, 3, -786393, 0, 3, -720857, 0, 3, -655321, 0, 3, -589785, 0, 3, -524249, 0, 3, -458713, 0, 3, -393177, 0, 3, -327641, 0, 3, -262105, 0, 3, -196569, 0, 3, -131033, 0, 3, -65499, 65536, 0, -65498, 65536, 0, -65497, 65536, 0, -917467, 65536, 1, -917466, 65536, 1, -851930, 65536, 1, -786394, 65536, 1, -720858, 65536, 1, -655322, 65536, 1, -589786, 65536, 1, -524250, 65536, 1, -458714, 65536, 1, -393178, 65536, 1, -327642, 65536, 1, -262106, 65536, 1, -196570, 65536, 1, -131034, 65536, 1, -131035, 65536, 1, -196571, 65536, 1, -262107, 65536, 1, -327643, 65536, 1, -393179, 65536, 1, -458715, 65536, 1, -524251, 65536, 1, -589787, 65536, 1, -655323, 65536, 1, -720859, 65536, 1, -786395, 65536, 1, -851931, 65536, 1, -393180, 0, 1, -393181, 65536, 0, -393182, 65536, 0, -393183, 196608, 0, -393192, 196608, 1, -393195, 196608, 0, -393194, 65536, 0, -393193, 65536, 0)

[node name="DummyRectangle" type="RigidBody2D" parent="--- Environment ---"]
position = Vector2(915, -691)

[node name="CollisionShape2D" type="CollisionShape2D" parent="--- Environment ---/DummyRectangle"]
scale = Vector2(10, 10)
shape = SubResource("RectangleShape2D_fc3hc")

[node name="Sprite2D" type="Sprite2D" parent="--- Environment ---/DummyRectangle"]
scale = Vector2(200, 200)
texture = SubResource("PlaceholderTexture2D_bx3es")

[node name="ParallaxBackground" type="ParallaxBackground" parent="--- Environment ---"]
offset = Vector2(0, -560)
transform = Transform2D(1, 0, 0, 1, 0, -560)

[node name="ParallaxTrees" type="ParallaxLayer" parent="--- Environment ---/ParallaxBackground"]
position = Vector2(0, -193)
motion_scale = Vector2(0.25, 1)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundTrees" type="Sprite2D" parent="--- Environment ---/ParallaxBackground/ParallaxTrees"]
texture = ExtResource("2_oi8e6")
centered = false

[node name="ParallaxHouses" type="ParallaxLayer" parent="--- Environment ---/ParallaxBackground"]
position = Vector2(0, -193)
motion_scale = Vector2(0.5, 1)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundHouses" type="Sprite2D" parent="--- Environment ---/ParallaxBackground/ParallaxHouses"]
texture = ExtResource("3_yv7l0")
centered = false

[node name="--- Interactables ---" type="Node" parent="."]

[node name="DoorPlate" parent="--- Interactables ---" instance=ExtResource("6_ed2up")]
position = Vector2(-844, -231)

[node name="Door" parent="--- Interactables ---" instance=ExtResource("7_qml43")]
position = Vector2(-488, -37)

[node name="Chest" parent="--- Interactables ---" instance=ExtResource("8_odafs")]
position = Vector2(-853, -35)
scale = Vector2(-1, 1)

[node name="KeyDoor" parent="--- Interactables ---" instance=ExtResource("9_gfbll")]
position = Vector2(2815, -355)

[node name="BridgePlate1" parent="--- Interactables ---" instance=ExtResource("6_ed2up")]
position = Vector2(1934, -357)

[node name="BridgePlate2" parent="--- Interactables ---" instance=ExtResource("6_ed2up")]
position = Vector2(2090, -357)

[node name="--- Players ---" type="Node" parent="."]

[node name="Players" type="Node2D" parent="--- Players ---"]
position = Vector2(0, -193)

[node name="PlayerSpawner" type="MultiplayerSpawner" parent="--- Players ---"]
_spawnable_scenes = PackedStringArray("res://player/player.tscn")
spawn_path = NodePath("../Players")
spawn_limit = 2

[node name="SpawnPoint_0" type="Node2D" parent="--- Players ---"]
position = Vector2(171, -83)

[node name="SpawnPoint_1" type="Node2D" parent="--- Players ---"]
position = Vector2(465, -85)

[connection signal="toggle" from="--- Interactables ---/DoorPlate" to="--- Interactables ---/Door" method="activate"]
